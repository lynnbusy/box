define(["React","navBar","util","datacenter"],function(e,t,l,n){var a={0:"BOX_OFFICE",1:"TOTAL_BOX_OFFICE",2:"SCHEDULE",3:"TICKET_SEAT_RATE",4:"AVG_PERSON",5:"TICKETS",6:"OTHER"},c={question:{sourceUrl:"undefined",content:"",tel:"",email:"",questionType:""}},r=e.createClass({displayName:"FeedbackPage",render:function(){{var l=this.props.open?"open":"";this.props.movieName,this.state.currentSegment}return e.createElement("div",{className:"movie-detail feedback-page "+l},e.createElement(t,{rightLogo:!0,leftNav:" ",title:"用户反馈",backCallback:this.props.backCallback}),e.createElement("div",{className:"fp-scroller contentView"},e.createElement("form",{action:"",className:"scroller",onSubmit:this.handleSubmit},e.createElement("h2",null,"如果在使用过程中遇到问题，请按以下方式反馈，你的支持就是我们的动力。你也可以加入用户QQ群反馈给我们：237610287"),e.createElement("h2",{className:"contact"}),e.createElement("p",null,"请选择问题"),e.createElement("ol",null,e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",null,"实时票房"))),e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",null,"票房统计"))),e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",null,"排片统计")))),e.createElement("ol",null,e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",{className:"str3"},"上座率"))),e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",null,"场均人次"))),e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",null,"观影人次")))),e.createElement("ol",null,e.createElement("li",null,e.createElement("div",null,e.createElement("input",{type:"checkbox",className:"ico-arr-check"}),e.createElement("label",{className:"str2"},"其他")))),e.createElement("textarea",{required:!0,name:"content",className:"border-1px",placeholder:"请简要描述你的问题或者建议"}),e.createElement("ul",null,e.createElement("li",null,e.createElement("label",null,"联系电话"),e.createElement("input",{name:"tel",placeholder:"选填，便于我们与你联系"})),e.createElement("li",null,e.createElement("label",null,"邮箱"),e.createElement("input",{name:"email",placeholder:"选填，便于我们与你联系"}))),e.createElement("div",{className:"btn-box"},e.createElement("input",{type:"submit",className:"btn submit",value:"提交"})))))},getInitialState:function(){return{}},getDefaultProps:function(){return{}},shouldComponentUpdate:function(e){var t=e.open,l=document.getElementsByClassName("feedback-page")[0];return t?(l.className="movie-detail feedback-page open",ga("send","pageview","/feedback-page")):l.className="movie-detail feedback-page",!1},componentDidMount:function(){this.initIScroll()},componentDidUpdate:function(){this.props.open&&this.Scroll.refresh()},componentWillReceiveProps:function(){},handleSubmit:function(e){var t=this,r=e.nativeEvent,o=r.target;r.preventDefault();var i=[];return o.forEach=Array.prototype.forEach,o.forEach(function(e,t){"content"==e.name&&(c.question.content=e.value),"email"==e.name&&(c.question.email=e.value),"tel"==e.name&&(c.question.tel=e.value),"checkbox"==e.type&&1==e.checked&&i.push(a[t])}),c.question.questionType=i.join(","),console.log(c),0==i.length?void l.toast("请选择你想反馈的问题",2e3):void n.Feedback.post(c,function(){console.log("Feedback success"),l.toast("提交成功，感谢反馈！",2e3),setTimeout(function(){t.props.backCallback()},1e3)},function(e){l.toast("提交没有成功，请稍后再试~",2e3),console.log(e)})},initIScroll:function(){this.Scroll=new IScroll(".fp-scroller",{mouseWheel:!0,bindToWrapper:!0,preventDefault:l.iScrollClick(),tap:l.iScrollClick(),click:l.iScrollClick()})}});return r});
//# sourceMappingURL=mySet.js.map